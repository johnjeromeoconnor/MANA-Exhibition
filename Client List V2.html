<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Client List</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
<style>
/* Custom page styling to maintain the original aesthetic */
body {
background-color: #f5f5dc; /* Beige background */
color: #111;
font-family: 'Courier Prime', 'Courier New', monospace;
overflow: hidden; /* Hide scrollbars caused by names near edges */
position: relative;
}

/* Styling for the title, keeping the original look */
h1.title-header {
position: absolute;
top: 20px;
left: 20px;
display: inline-block;
padding: 10px 20px;
background: #000;
color: #fff;
font-size: 2em;
border-radius: 4px;
z-index: 100;
}

/* Progress indicator */
.progress-indicator {
position: absolute;
top: 20px;
right: 20px;
padding: 10px 15px;
background: #333;
color: #fff;
border-radius: 4px;
z-index: 100;
font-size: 0.9em;
}

/* Styling for each name element */
.name-item {
position: absolute;
padding: 2px 5px;
white-space: nowrap;
cursor: default;
transition: opacity 1s, transform 0.3s;
transform: scale(0.95);
}

.name-item.appearing {
animation: fadeInScale 0.5s ease-out forwards;
}

@keyframes fadeInScale {
from {
opacity: 0;
transform: scale(0.8);
}
to {
opacity: 1;
transform: scale(1);
}
}

/* Styling for the hand-drawn redaction SVG */
.redaction-scribble {
position: absolute;
/* top, left, width, and height are set dynamically in JS */
z-index: 10;
filter: blur(0.5px);
overflow: visible; /* Ensure paths are not clipped by the SVG boundary */
}

/* Animation for drawing the scribble paths */
@keyframes draw-scribble {
to {
stroke-dashoffset: 0;
}
}

.redacted .name-text {
/* Hide the text when redacted to ensure it's fully obscured */
color: transparent !important;
-webkit-text-fill-color: transparent !important;
transition: color 0.1s 1s; /* Delay hiding text until scribble is nearly done */
}

/* Responsive adjustments */
@media (max-width: 768px) {
h1.title-header {
font-size: 1.5em;
}
.progress-indicator {
font-size: 0.8em;
}
}

</style>
</head>
<body class="w-screen h-screen">

<h1 class="title-header">Client List</h1>

<div class="progress-indicator" id="progress-indicator">
0 redacted
</div>

<div id="name-container" class="w-full h-full">
<!-- Names will be populated here by JavaScript -->
</div>

<script>
const names = [
// Ancient Historical Figures
"Socrates", "Plato", "Aristotle", "Alexander the Great", "Julius Caesar",
"Jesus Christ", "Muhammad", "Buddha", "Confucius", "Moses",
"Hannibal", "Spartacus", "Augustus Caesar", "Marcus Aurelius",
"Cicero", "Seneca", "Herodotus", "Thucydides", "Homer",
"Virgil", "Ovid", "Pericles", "Leonidas",
"Cyrus the Great", "Darius I", "Xerxes", "Nebuchadnezzar II", "Hammurabi",
"Tutankhamun", "Ramesses II", "Akhenaten", "Jason of Pherae",
"Pyrrhus of Epirus", "Sertorius", "Sextus Pompeius", "Dong Zhuo",
"Cao Cao", "Liu Bei", "Sun Quan",

// Medieval Figures
"Charlemagne", "William the Conqueror", "Richard the Lionheart", "Saladin",
"Marco Polo", "Dante Alighieri", "Geoffrey Chaucer",
"Thomas Aquinas", "Francis of Assisi", "Genghis Khan",
"Kublai Khan", "Attila the Hun", "Justinian I",
"Alfred the Great", "Harald Hardrada", "Erik the Red", "Leif Erikson",
"El Cid", "Harun al-Rashid", "Maimonides", "Averroes", "Avicenna",

// Renaissance & Early Modern
"Leonardo da Vinci", "Michelangelo", "Raphael", "Donatello",
"William Shakespeare", "Christopher Marlowe", "Ben Jonson",
"Galileo Galilei", "Johannes Kepler", "Nicolaus Copernicus",
"Isaac Newton", "René Descartes", "Blaise Pascal", "Francis Bacon",
"John Locke", "Thomas Hobbes", "Baruch Spinoza", "Gottfried Leibniz",
"Voltaire", "Jean-Jacques Rousseau", "Denis Diderot", "David Hume",
"Immanuel Kant", "Georg Wilhelm Friedrich Hegel", "Arthur Schopenhauer",
"Christopher Columbus", "Vasco da Gama", "Ferdinand Magellan",
"Hernán Cortés", "Francisco Pizarro", "Amerigo Vespucci",

// Musicians & Composers (Classical)
"Johann Sebastian Bach", "Ludwig van Beethoven", "Wolfgang Amadeus Mozart",
"Franz Schubert", "Frédéric Chopin", "Franz Liszt", "Richard Wagner",
"Giuseppe Verdi", "Giacomo Puccini", "Antonio Vivaldi", "George Handel",
"Johannes Brahms", "Pyotr Ilyich Tchaikovsky", "Claude Debussy",
"Igor Stravinsky", "Sergei Rachmaninoff", "Gustav Mahler",

// Modern Musicians (Deceased Men)
"Elvis Presley", "Bob Marley", "Kurt Cobain", "Jimi Hendrix",
"John Lennon", "George Harrison", "Johnny Cash", "Frank Sinatra",
"Miles Davis", "Louis Armstrong", "Duke Ellington",
"Ray Charles", "Prince", "Michael Jackson", "David Bowie",
"Freddie Mercury", "Jim Morrison", "Buddy Holly", "Ritchie Valens",
"Hank Williams", "Otis Redding", "Sam Cooke", "Marvin Gaye",
"John Coltrane", "Charlie Parker", "Thelonious Monk",

// Artists (Deceased Men)
"Vincent van Gogh", "Pablo Picasso", "Claude Monet", "Edgar Degas",
"Pierre-Auguste Renoir", "Paul Cézanne", "Paul Gauguin", "Henri Matisse",
"Salvador Dalí", "Jackson Pollock", "Andy Warhol", "Jean-Michel Basquiat",
"Rembrandt van Rijn", "Johannes Vermeer", "Caravaggio", "Sandro Botticelli",
"Titian", "Francisco Goya", "El Greco", "Diego Velázquez", "Peter Paul Rubens",
"Henri de Toulouse-Lautrec", "Edvard Munch", "Gustav Klimt", "Egon Schiele",

// Political Leaders & Revolutionaries (Deceased Men)
"George Washington", "Thomas Jefferson", "Benjamin Franklin", "Abraham Lincoln",
"Theodore Roosevelt", "Franklin D. Roosevelt", "John F. Kennedy",
"Winston Churchill", "Charles de Gaulle", "Napoléon Bonaparte",
"Otto von Bismarck", "Peter the Great", "Ivan the Terrible",
"Louis XIV", "Louis XVI", "Maximilien Robespierre", "Oliver Cromwell",
"Henry VIII", "Nelson Mandela", "Mahatma Gandhi", "Martin Luther King Jr.",
"Malcolm X", "Che Guevara", "Fidel Castro", "Vladimir Lenin",
"Leon Trotsky", "Joseph Stalin", "Mao Zedong", "Ho Chi Minh",
"Ronald Reagan",

// Dictators & Controversial Figures (Deceased Men)
"Adolf Hitler", "Benito Mussolini", "Francisco Franco", "Augusto Pinochet",
"Idi Amin", "Pol Pot", "Saddam Hussein", "Muammar Gaddafi",
"Osama bin Laden", "Caligula", "Nero", "Vlad the Impaler",

// Scientists & Inventors (Deceased Men)
"Albert Einstein", "Charles Darwin", "Nikola Tesla", "Thomas Edison",
"Alexander Graham Bell", "Louis Pasteur", "Alexander Fleming",
"Gregor Mendel", "Stephen Hawking", "Carl Sagan", "Antoine Lavoisier",
"Dmitri Mendeleev", "Ernest Rutherford", "Niels Bohr", "Max Planck",
"Werner Heisenberg", "Erwin Schrödinger", "Richard Feynman",
"Alan Turing", "John von Neumann",

// Explorers & Adventurers (Deceased Men)
"Ernest Shackleton", "Robert Falcon Scott", "Roald Amundsen",
"Edmund Hillary", "Tenzing Norgay", "Yuri Gagarin", "Neil Armstrong",
"Buzz Aldrin", "John Glenn", "Charles Lindbergh", "Jacques Cousteau",
"David Livingstone", "Henry Morton Stanley", "Richard Burton",
"Ernest Hemingway",

// Writers (Deceased Men)
"Homer", "Sophocles", "Euripides", "Aeschylus", "Aristophanes",
"Virgil", "Dante", "Geoffrey Chaucer", "Miguel de Cervantes",
"William Shakespeare", "John Milton", "Alexander Pope", "Jonathan Swift",
"Daniel Defoe", "Samuel Johnson", "Charles Dickens", "Thomas Hardy",
"Oscar Wilde", "George Bernard Shaw", "James Joyce",
"T.S. Eliot", "W.B. Yeats", "Robert Frost", "Langston Hughes",
"Mark Twain", "Edgar Allan Poe", "Walt Whitman",
"Henry David Thoreau", "Ralph Waldo Emerson", "Nathaniel Hawthorne",
"Herman Melville", "F. Scott Fitzgerald", "Ernest Hemingway",
"John Steinbeck", "William Faulkner", "James Baldwin", "Ralph Ellison",
"Arthur Conan Doyle", "H.G. Wells", "Jules Verne",
"Leo Tolstoy", "Fyodor Dostoevsky", "Anton Chekhov", "Ivan Turgenev",

// Philosophers (Deceased Men)
"Epicurus", "Zeno of Citium", "Augustine of Hippo", "William of Ockham",
"Søren Kierkegaard", "Friedrich Nietzsche", "Karl Marx", "Max Weber",
"Émile Durkheim", "Sigmund Freud", "Carl Jung", "Jean-Paul Sartre",
"Albert Camus", "Martin Heidegger", "Ludwig Wittgenstein",
"Bertrand Russell", "John Rawls", "Michel Foucault", "Jacques Derrida",

// Sports Figures (Deceased Men)
"Pelé", "Diego Maradona", "Muhammad Ali", "Joe Louis", "Sugar Ray Robinson",
"Babe Ruth", "Lou Gehrig", "Joe DiMaggio", "Mickey Mantle",
"Ted Williams", "Willie Mays", "Hank Aaron", "Jackie Robinson",
"Kobe Bryant", "Wilt Chamberlain", "Bill Russell", "Bruce Lee",
"Rocky Marciano", "Joe Frazier", "Sugar Ray Leonard", "Jesse Owens",
"Jim Thorpe", "Knute Rockne", "Vince Lombardi", "John Wooden",
"Red Auerbach", "Casey Stengel", "Ty Cobb",

// Film & Entertainment (Deceased Men)
"Charlie Chaplin", "Orson Welles", "Alfred Hitchcock", "Stanley Kubrick",
"Akira Kurosawa", "Ingmar Bergman", "Federico Fellini", "John Ford",
"Humphrey Bogart", "Marlon Brando", "James Dean", "Cary Grant",
"Clark Gable", "John Wayne", "Jimmy Stewart", "Gary Cooper",
"Spencer Tracy", "Richard Burton", "Paul Newman", "Walt Disney",
"Stan Lee", "Jim Henson", "Johnny Carson", "Robin Williams",
"Gene Wilder", "Peter Sellers", "Groucho Marx", "W.C. Fields",
"Buster Keaton", "Harold Lloyd"
];

const container = document.getElementById('name-container');
let nameElementsOnScreen = [];
let redactionCount = 0;
let totalCount = 0;
let animationInterval;

/**
* Updates the progress indicator
*/
function updateProgress() {
const indicator = document.getElementById('progress-indicator');
indicator.textContent = `${redactionCount} redacted`;
}

/**
* Generates a more natural and varied SVG scribble.
* @param {number} width - The width of the SVG's viewBox.
* @param {number} height - The height of the SVG's viewBox.
* @param {string} color - The color of the scribble strokes.
* @returns {SVGElement} - The generated SVG element.
*/
function createScribble(width, height, color) {
const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
svg.setAttribute('class', 'redaction-scribble');
svg.setAttribute('viewBox', `0 0 ${width} ${height}`);

const lineCount = 7 + Math.floor(Math.random() * 8);

for (let j = 0; j < lineCount; j++) {
const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');

const wildness = 0.15 + Math.random() * 0.2;

// Start from a random position, allowing it to go well off the left edge
const startX = (Math.random() * -0.3) * width; // Start further left
const startY = height * Math.random();
let d = `M ${startX} ${startY}`;

const segments = 6 + Math.floor(Math.random() * 12);
let currentX = startX;
let currentY = startY;

for (let i = 1; i <= segments; i++) {
// Allow the path to extend well beyond the right edge by stretching the target
const targetX = (width * 1.4 / segments) * i + (Math.random() - 0.7) * (width * 0.3);
const targetY = height * Math.random();

const controlX = currentX + (Math.random() - 0.5) * (width * wildness);
const controlY = currentY + (Math.random() - 0.5) * (height * (wildness + 0.3));

d += ` Q ${controlX} ${controlY} ${targetX} ${targetY}`;
currentX = targetX;
currentY = targetY;
}

path.setAttribute('d', d);
path.setAttribute('fill', 'none');
path.setAttribute('stroke', color);
path.setAttribute('stroke-width', `${1.5 + (Math.random() * 4)}`);
path.setAttribute('stroke-linecap', 'round');
path.setAttribute('stroke-linejoin', 'round');
path.setAttribute('opacity', `${0.6 + (Math.random() * 0.4)}`);
svg.appendChild(path);
}

return svg;
}


/**
* Creates and places a new name element on the page.
*/
function addName(name) {
const nameDiv = document.createElement('div');
nameDiv.classList.add('name-item', 'appearing');

const nameSpan = document.createElement('span');
nameSpan.classList.add('name-text');
nameSpan.textContent = name;
nameDiv.appendChild(nameSpan);

const headerHeight = 80;
const controlsHeight = 20;
const progressWidth = 200;
const margin = 30;

const viewportWidth = window.innerWidth;
const viewportHeight = window.innerHeight;

const minTop = headerHeight;
const maxTop = viewportHeight - controlsHeight - 30;
const minLeft = margin;
const maxLeft = viewportWidth - progressWidth - margin;

const safeTop = Math.max(minTop, Math.min(maxTop, minTop + Math.random() * (maxTop - minTop)));
const safeLeft = Math.max(minLeft, Math.min(maxLeft, minLeft + Math.random() * (maxLeft - minLeft)));

nameDiv.style.top = `${safeTop}px`;
nameDiv.style.left = `${safeLeft}px`;

container.appendChild(nameDiv);
nameElementsOnScreen.push(nameDiv);
}

/**
* Shuffles an array using Fisher-Yates algorithm
*/
function shuffleArray(array) {
const shuffled = [...array];
for (let i = shuffled.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
}
return shuffled;
}

/**
* Resets the board and starts a new cycle.
*/
function startNewCycle() {
if (animationInterval) {
clearInterval(animationInterval);
}

container.innerHTML = '';
nameElementsOnScreen = [];
redactionCount = 0;

const shuffledNames = shuffleArray(names);
const namesToAdd = shuffledNames.slice(0, Math.min(100, shuffledNames.length));
totalCount = namesToAdd.length;

namesToAdd.forEach((name, index) => {
setTimeout(() => addName(name), index * 50);
});

updateProgress();

animationInterval = setInterval(cycleManager, 10000); // Redact a name every 10 seconds
}

/**
* Finds a random un-redacted name and redacts it permanently.
*/
function redactOneName() {
const availableElements = nameElementsOnScreen.filter(el => !el.classList.contains('redacted'));
if (availableElements.length === 0) {
clearInterval(animationInterval);
return;
}

const randomIndex = Math.floor(Math.random() * availableElements.length);
const elementToRedact = availableElements[randomIndex];

elementToRedact.classList.add('redacted');
const redactionColor = 'black';
const rect = elementToRedact.querySelector('.name-text').getBoundingClientRect();

// Add both horizontal and vertical padding to the SVG container
const horizontalPadding = 20; // 10px on each side
const verticalPadding = 10; // 5px on top/bottom

const scribbleWidth = rect.width + horizontalPadding;
const scribbleHeight = rect.height + verticalPadding;

// Create the scribble with the new padded dimensions for its viewBox
const scribble = createScribble(scribbleWidth, scribbleHeight, redactionColor);

// Position the larger SVG container so it's centered over the text, allowing overflow
scribble.style.left = `-${horizontalPadding / 2}px`;
scribble.style.top = `-${verticalPadding / 2}px`;
scribble.style.width = `${scribbleWidth}px`;
scribble.style.height = `${scribbleHeight}px`;

elementToRedact.appendChild(scribble);

// Animate each path in the scribble to "draw" it on screen
const paths = scribble.querySelectorAll('path');
paths.forEach((path, index) => {
const length = path.getTotalLength();
path.style.strokeDasharray = length;
path.style.strokeDashoffset = length;
path.style.animation = `draw-scribble 0.4s linear forwards ${index * 0.08}s`;
});

redactionCount++;
updateProgress();
}

/**
* The main cycle function that manages redaction and resets.
*/
function cycleManager() {
if (redactionCount >= totalCount && totalCount > 0) {
clearInterval(animationInterval);
setTimeout(startNewCycle, 2000);
} else {
redactOneName();
}
}

// Error handling for edge cases
function handleError(error) {
console.error('Application error:', error);
}

// Initialize the application
try {
startNewCycle();
} catch (error) {
handleError(error);
}

// Handle window resize
window.addEventListener('resize', () => {
nameElementsOnScreen.forEach(nameDiv => {
const rect = nameDiv.getBoundingClientRect();
if (rect.right > window.innerWidth) {
nameDiv.style.left = `${Math.max(20, window.innerWidth - rect.width - 20)}px`;
}
if (rect.bottom > window.innerHeight) {
nameDiv.style.top = `${Math.max(80, window.innerHeight - rect.height - 60)}px`;
}
});
});

// Cleanup on page unload
window.addEventListener('beforeunload', () => {
if (animationInterval) {
clearInterval(animationInterval);
}
});

</script>

</body>
</html>

